<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>用户主页</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}"> <!-- 引入CSS样式表 -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/user_page.css') }}"> <!-- 引入CSS样式表 -->

</head>
<body>
    <nav>
        <ul>
            <li><a href="user_index">首页</a></li>
            <li><a href="about">关于我们</a></li>
            <li><a href="news">动态消息</a></li>
            <li><a href="research">教学科研</a></li>
            <li><a href="research_achievements">研究成果</a></li>
            <li><a href="admissions">招生信息</a></li>
            <li><a href="cooperation">国际合作</a></li>
            <li><a href="internal_management">内部管理</a></li>
            <li><a href="download_zone">下载专区</a></li>
            <li><a href="user_help">用户帮助</a></li>

        </ul>
        <div id="user-avatar" class="user-avatar">
            <img src="{{ url_for('static', filename='images/avatar.png') }}" alt="用户头像" onclick="toggleDropdown()">
            <div id="dropdown" class="dropdown" style="display: none;">
                <a href="{{ url_for('views.user_page') }}">个人主页</a>
                <a href="{{ url_for('views.logout') }}">退出登录</a>
            </div>
        </div>

    </nav>
    <!-- 用户信息 -->
    <div class="user-info">
        <h2>个人信息</h2>
        <p>姓名：{{ student.name }}</p>
        <p>学号：{{ student.student_id }}</p>
        <p>性别：{{ student.gender }}</p>
        <p>类别：{{ student.category }}</p>
        <p>国籍：{{ student.nationality }}</p>
        <p>入学时间：{{ student.admission_time }}</p>
        <p>导师：{{ student.tutor }}</p>
        <p>副导师：{{ student.co_tutor }}</p>
        <p>出生日期：{{ student.birth_date }}</p>
        <p>邮箱：{{ student.email }}</p>
        <p>手机号：{{ student.mobile }}</p>
        <p>照片路径：{{ student.photo_path }}</p>
        <p>备注：{{ student.remarks }}</p>
        <!-- ... 其他个人信息 ... -->
    </div>

    <!-- 修改个人信息表单 -->
    <form method="post" action="{{ url_for('views.update_user_info') }}">
        <h2>修改个人信息</h2>
        <label for="name">姓名：</label>
        <input type="text" id="name" name="name" value="{{ student.name }}">
        <label for="gender">性别：</label>
        <select id="gender" name="gender">
            <option value="男" {{ 'selected' if student.gender == '男' else '' }}>男</option>
            <option value="女" {{ 'selected' if student.gender == '女' else '' }}>女</option>
        </select>
        <label for="category">类别：</label>
        <select id="category" name="category">
            <option value="本科" {{ 'selected' if student.category == '本科' else '' }}>本科</option>
            <option value="硕士" {{ 'selected' if student.category == '硕士' else '' }}>硕士</option>
            <option value="博士" {{ 'selected' if student.category == '博士' else '' }}>博士</option>
        </select>
        <label for="nationality">国籍：</label>
        <input type="text" id="nationality" name="nationality" value="{{ student.nationality }}">
        <label for="admission_time">入学时间：</label>
        <input type="text" id="admission_time" name="admission_time" value="{{ student.admission_time }}">
        <label for="tutor">导师：</label>
        <input type="text" id="tutor" name="tutor" value="{{ student.tutor }}">
        <label for="co_tutor">副导师：</label>
        <input type="text" id="co_tutor" name="co_tutor" value="{{ student.co_tutor }}">
        <label for="birth_date">出生日期：</label>
        <input type="text" id="birth_date" name="birth_date" value="{{ student.birth_date }}">
        <label for="email">邮箱：</label>
        <input type="text" id="email" name="email" value="{{ student.email }}">
        <label for="mobile">手机号：</label>
        <input type="text" id="mobile" name="mobile" value="{{ student.mobile }}">
        <label for="photo_path">照片路径：</label>
        <input type="text" id="photo_path" name="photo_path" value="{{ student.photo_path }}">
        <label for="remarks">备注：</label>
        <textarea id="remarks" name="remarks" rows="4" cols="50">{{ student.remarks }}</textarea>
        <button type="submit">提交修改</button>
    </form>
    <footer>
        <p>版权所有 &copy; 2024 网络攻防对抗技术研究所</p>
        <ul class="footer-links">
            <li><a href="http://cs.bit.edu.cn" target="_blank">计算机学院</a></li>
            <li><a href="http://grd.bit.edu.cn" target="_blank">研究生院</a></li>
            <li><a href="http://grdms.bit.edu.cn" target="_blank">研究生管理系统</a></li>
        </ul>
    </footer>
    <script>
        function toggleDropdown() {
            var dropdown = document.getElementById('dropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }
    </script>
</body>
</html>
